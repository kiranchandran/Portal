@page "/saveemployee/{id?}"

@inherits SaveEmployeeBase

<EditForm Model="@Employee" OnValidSubmit="HandleValidSubmit">
    <h3>@(IsEditMode ? "Edit Employee" : "Add new Employeee") </h3>
    <hr />
    <ValidationSummary />
    <div class="form-group row mt-4">
        <label for="Name" class="col-sm-2 col-form-label">
            Name
        </label>
        <div class="col-sm-10">
            <InputText id="Name" class="form-control" placeholder="Name"
                       @bind-Value="Employee.Name" />
            <ValidationMessage For="@(() => Employee.Name)" />
        </div>
    </div>

    <div class="form-group row  mt-4">
        <label for="Email" class="col-sm-2 col-form-label">
            Email
        </label>
        <div class="col-sm-10">
            <InputText class="form-control" placeholder="Email"
                       @bind-Value="Employee.Email" />
            <ValidationMessage For="@(() => Employee.Email)" />
        </div>
    </div>

    <div class="form-group row mt-4">
        <label for="DepartmentId" class="col-sm-2 col-form-label">
            Department
        </label>
        <div class="col-sm-10">
            <select class="form-control" @bind="Employee.DepartmentId">
                @if (Departments != null)
                {
                    @foreach (var dept in Departments)
                    {
                        <option value="@dept.Id">@dept.Name</option>
                    }
                }
            </select>
        </div>
    </div>

    <div class="form-group row mt-4">
        <label for="dateOfBirth" class="col-sm-2 col-form-label">
            Date Of Birth
        </label>
        <div class="col-sm-10">
            <InputDate @bind-Value="Employee.DateOfBirth" class="form-control" />
            <ValidationMessage For="@(() => Employee.DateOfBirth)" />
        </div>
    </div>
    <div class="form-group row mt-4">
        <div>
            <button class="btn btn-primary float-end" type="submit">Save</button>
        </div>
    </div>

</EditForm>